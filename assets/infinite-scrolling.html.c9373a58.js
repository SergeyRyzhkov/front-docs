import{_ as c,r as e,o as l,c as i,a as n,b as a,w as p,d as s,e as u}from"./app.40083dda.js";const k={},r=n("h1",{id:"infinite-scrolling",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#infinite-scrolling","aria-hidden":"true"},"#"),s(" Infinite Scrolling")],-1),d={class:"table-of-contents"},v=s("InfiniteScroll.vue (Nuxt2 class-components)"),m=s("InfiniteScroll.vue Vue3 (Composition API)"),g=s("\u041F\u0440\u0438\u043C\u0435\u0440 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u0438\u044F"),b=s("\u041A\u043B\u0430\u0441\u0441-\u043C\u043E\u0434\u0435\u043B\u044C-\u0445\u0435\u043B\u043F\u0435\u0440 \u0434\u043B\u044F \u043F\u0430\u0433\u0438\u043D\u0430\u0446\u0438\u0438"),q=s("\u0411\u0443\u0434\u0435\u043C \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C: "),y={href:"https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API",target:"_blank",rel:"noopener noreferrer"},f=s("Intersection Observer API"),w=u(`<p>\u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442:</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>InfiniteScroll</span> <span class="token attr-name">@on-intersect</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>loadMore()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>loading<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>InfiniteScroll</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="infinitescroll-vue-nuxt2-class-components" tabindex="-1"><a class="header-anchor" href="#infinitescroll-vue-nuxt2-class-components" aria-hidden="true">#</a> InfiniteScroll.vue (Nuxt2 class-components)</h2><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> Prop<span class="token punctuation">,</span> Vue <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;nuxt-property-decorator&quot;</span><span class="token punctuation">;</span>

@Component
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">InfiniteScroll</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">{</span>
  @<span class="token function">Prop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

  defaultOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">root</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token literal-property property">rootMargin</span><span class="token operator">:</span> <span class="token string">&quot;50px&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">threshold</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  observer <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">observe</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">_target</span><span class="token operator">:</span> Element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IntersectionObserver</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">,</span> _observer</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span>item <span class="token operator">&amp;&amp;</span> item<span class="token punctuation">.</span>isIntersecting<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&quot;on-intersect&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>defaultOptions<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>options <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">destroyed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>observer<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="infinitescroll-vue-vue3-composition-api" tabindex="-1"><a class="header-anchor" href="#infinitescroll-vue-vue3-composition-api" aria-hidden="true">#</a> InfiniteScroll.vue Vue3 (Composition API)</h2><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> onBeforeUnmount<span class="token punctuation">,</span> onMounted<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> nextTick <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> infiniteScrollWrapper <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">withDefaults</span><span class="token punctuation">(</span>defineProps<span class="token operator">&lt;</span><span class="token punctuation">{</span> root<span class="token operator">?</span><span class="token punctuation">;</span> rootMargin<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">;</span> threshold<span class="token operator">?</span><span class="token operator">:</span> number <span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">root</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token literal-property property">rootMargin</span><span class="token operator">:</span> <span class="token string">&quot;300px&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">threshold</span><span class="token operator">:</span> <span class="token number">0.0</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;intersect-enter&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;intersect-leave&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> observer <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">observe</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">_target</span><span class="token operator">:</span> Element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IntersectionObserver</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">,</span> _observer</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span>item<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      item<span class="token punctuation">.</span>isIntersecting <span class="token operator">?</span> <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;intersect-enter&quot;</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;intersect-leave&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> props<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> <span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>infiniteScrollWrapper<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">onBeforeUnmount</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  observer<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>infiniteScrollWrapper<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">height</span><span class="token punctuation">:</span> 20px</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>infiniteScrollWrapper<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">height</span><span class="token punctuation">:</span> 20px</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">rootMargin</p><p>\u041F\u0430\u0440\u0430\u043C\u0435\u0442\u0440 <code>rootMargin</code> - \u043C\u043E\u0436\u0435\u0442 \u0431\u044B\u0442\u044C \u043F\u043E\u043B\u0435\u0437\u0435\u043D \u0432 \u043D\u0435\u043A\u043E\u0442\u043E\u0440\u044B\u0445 \u0441\u043B\u0443\u0447\u0430\u044F\u0445, \u0442\u0430\u043A \u043A\u0430\u043A \u043E\u043D \u0434\u0430\u0435\u0442 \u043D\u0430\u043C \u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E\u0441\u0442\u044C \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0438\u0442\u044C \u0433\u0440\u0430\u043D\u0438\u0446\u0443,<br> \u043A\u043E\u0442\u043E\u0440\u0443\u044E \u043D\u0430\u0431\u043B\u044E\u0434\u0430\u0442\u0435\u043B\u044C (observer) \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C \u0434\u043B\u044F \u043F\u043E\u0438\u0441\u043A\u0430 \u043F\u0435\u0440\u0435\u0441\u0435\u0447\u0435\u043D\u0438\u0439.<br> \u041F\u043E \u0443\u043C\u043E\u043B\u0447\u0430\u043D\u0438\u044E rootMargin \u0440\u0430\u0432\u0435\u043D 0 - \u043D\u0430\u0431\u043B\u044E\u0434\u0430\u0442\u0435\u043B\u044C \u0432\u044B\u0437\u043E\u0432\u0435\u0442 \u043A\u043E\u043B\u043B\u0431\u0435\u043A (\u043F\u0435\u0440\u0435\u0441\u0435\u0447\u0435\u043D\u0438\u044F), \u043A\u0430\u043A \u0442\u043E\u043B\u044C\u043A\u043E \u043D\u0430\u0448 \u044D\u043B\u0435\u043C\u0435\u043D\u0442 \u0432\u043E\u0439\u0434\u0435\u0442 \u0432 \u043E\u043A\u043D\u043E \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u0430.<br> \u0423\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u044F rootMargin, \u043D\u0430\u043F\u0440\u0438\u043C\u0435\u0440, \u0432 400 \u043F\u0438\u043A\u0441\u0435\u043B\u0435\u0439 \u043E\u0437\u043D\u0430\u0447\u0430\u0435\u0442, \u0447\u0442\u043E \u043A\u043E\u043B\u043B\u0431\u0435\u043A intersect \u0441\u0440\u0430\u0431\u043E\u0442\u0430\u0435\u0442 \u0440\u043E\u0432\u043D\u043E \u0437\u0430 400 \u043F\u0438\u043A\u0441\u0435\u043B\u0435\u0439 \u0434\u043E \u0442\u043E\u0433\u043E, \u043A\u0430\u043A \u044D\u043B\u0435\u043C\u0435\u043D\u0442 \u0432\u043E\u0439\u0434\u0435\u0442 \u0432 \u043E\u0431\u043B\u0430\u0441\u0442\u044C \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u0430.<br> \u041C\u043E\u0436\u0435\u0442 \u0431\u044B\u0442\u044C \u043F\u043E\u043B\u0435\u0437\u043D\u043E \u0434\u043B\u044F \u043F\u0440\u0435\u0432\u0435\u043D\u0442\u0438\u0432\u043D\u043E\u0439 \u043F\u043E\u0434\u0433\u0440\u0443\u0437\u043A\u0438 \u0434\u0430\u043D\u043D\u044B\u0445</p></div><p><strong>\u041F\u043E\u044F\u0441\u043D\u0435\u043D\u0438\u044F</strong></p><ol><li><code>IntersectionObserver</code> \u0434\u043E\u0441\u0442\u0443\u043F\u0435\u043D \u0442\u043E\u043B\u044C\u043A\u043E \u043D\u0430 \u043A\u043B\u0438\u0435\u043D\u0442\u0435, \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043D\u043D\u043E, \u0441\u043E\u0437\u0434\u0430\u0435\u043C \u044D\u043A\u0437\u0435\u043C\u043F\u043B\u044F\u0440 \u0432 \u0445\u0443\u043A\u0435 mounted</li><li><code>this.observer.observe(this.$el);</code>, <code>this.$el</code> - \u0440\u0443\u0442\u043E\u0432\u044B\u0439 \u0434\u043E\u043C-\u044D\u043B\u0435\u043C\u0435\u043D\u0442 \u043D\u0430\u0448\u0435\u0433\u043E \u043A\u043E\u043C\u043F\u043E\u043D\u0435\u043D\u0442\u0430, \u043A\u043E\u0442\u043E\u0440\u044B\u0439 \u043C\u044B \u0438 \u0431\u0443\u0434\u0435\u043C &quot;\u043D\u0430\u0431\u043B\u044E\u0434\u0430\u0442\u044C&quot;</li><li><code>([item], _observer)</code> - \u0442\u0430\u043A \u043A\u0430\u043A \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0443 \u043D\u0430\u0441 \u043E\u0434\u0438\u043D, \u0442\u043E \u0434\u0435\u043B\u0430\u0435\u043C \u043F\u0440\u043E\u0441\u0442\u043E \u0434\u0435\u0441\u0442\u0440\u0443\u043A\u0446\u0438\u044E \u043E\u0434\u043D\u043E\u0433\u043E \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430 \u0438\u0437 \u043C\u0430\u0441\u0441\u0438\u0432\u0430 (\u0441\u0430\u0445\u0430\u0440)</li><li><code>this.$emit(&quot;on-intersect&quot;)</code> - &quot;\u0432\u044B\u043A\u0438\u0434\u044B\u0432\u0430\u0435\u043C \u0441\u043E\u0431\u044B\u0442\u0438\u0435&quot;, \u0435\u0441\u043B\u0438 \u043D\u0430\u0448 \u044D\u043B\u0435\u043C\u0435\u043D\u0442 &quot;\u043F\u0435\u0440\u0435\u0441\u0451\u043A&quot; \u0437\u0430\u0434\u0430\u043D\u043D\u0443\u044E\u043E\u0431\u043B\u0430\u0441\u0442\u044C</li></ol><h2 id="\u043F\u0440\u0438\u043C\u0435\u0440-\u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u0438\u044F" tabindex="-1"><a class="header-anchor" href="#\u043F\u0440\u0438\u043C\u0435\u0440-\u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u0438\u044F" aria-hidden="true">#</a> \u041F\u0440\u0438\u043C\u0435\u0440 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u0438\u044F</h2><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page-wrapper container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BreadCrumbs</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>\u041D\u043E\u0432\u043E\u0441\u0442\u0438<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>news-list-wrapper mt-40<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NewsItem</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iter in newsList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iter.id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:article-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iter<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NewsItem</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- \u041F\u0440\u0438 \u0432\u0445\u043E\u0436\u0434\u0435\u043D\u0438\u0438 \u0432 \u043E\u0431\u043B\u0430\u0441\u0442\u044C \u0432\u0438\u0434\u0438\u043C\u043E\u0441\u0442\u0438 &quot;\u0441\u0440\u0430\u0431\u043E\u0442\u0430\u0435\u0442&quot; \u043A\u043E\u043B\u043B\u0431\u0435\u043A \u043E\u0442 IntersectionObserver
         \u0438 \u043A\u043E\u043C\u043F\u043E\u043D\u0435\u043D\u0442 &quot;\u0432\u044B\u043A\u0438\u043D\u0435\u0442&quot; \u0441\u043E\u0431\u044B\u0442\u0438\u0435 on-intersect (\u043D\u0430\u0448 \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u0447\u0438\u043A loadDataChunk())  --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>InfiniteScroll</span>
      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>news-list-wrapper mt-0<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">@on-intersect</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>loadDataChunk()<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- \u041D\u0430 \u043C\u043C\u043E\u0435\u043D\u0442 \u043F\u043E\u0434\u0433\u0440\u0443\u0437\u043A\u0438 \u0434\u0430\u043D\u043D\u044B\u0445 (loading:boolean) \u043E\u0442\u043E\u0431\u0440\u0430\u0437\u0438\u043C \u0441\u043A\u0435\u043B\u0435\u0442\u043E\u043D --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>loading<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SkeletonNewsItem</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index in 6<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SkeletonNewsItem</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>InfiniteScroll</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> Vue <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;nuxt-property-decorator&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> NewsModel <span class="token keyword">from</span> <span class="token string">&quot;../models/NewsModel&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Pagination <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/_core/models/Pagination&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> EmptyService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/_core/service/EmptyService&quot;</span><span class="token punctuation">;</span>

@Component
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">NewsListPage</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u041C\u0430\u0441\u0441\u0438\u0432 \u043D\u043E\u0432\u043E\u0441\u0442\u0435\u0439 (\u043C\u043E\u0434\u0435\u043B\u0435\u0439 NewsModel)</span>
  <span class="token literal-property property">newsList</span><span class="token operator">:</span> NewsModel<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// \u041F\u0440\u0438\u0437\u043D\u0430\u043A \u0432\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u0434\u0430\u043D\u043D\u044B\u0445. \u0412\u043B\u0438\u044F\u0435\u0442 \u043D\u0430 \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0438\u043D\u0434\u0438\u043A\u0430\u0442\u043E\u0440\u0430 (SkeletonNewsItem)</span>
  loading <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token comment">// \u041A\u043B\u0430\u0441\u0441-\u043C\u043E\u0434\u0435\u043B\u044C &quot;\u043F\u0430\u0433\u0438\u043D\u0430\u0446\u0438\u0438&quot; \u0438 \u0432\u0441\u043F\u043E\u043C\u043E\u0433\u0430\u0442\u0435\u043B\u044C\u043D\u044B\u0435 \u043C\u0435\u0442\u043E\u0434\u044B-\u0432\u044B\u0447\u0438\u0441\u043B\u0435\u043D\u0438\u044F</span>
  <span class="token literal-property property">pagination</span><span class="token operator">:</span> Pagination <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Pagination</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// &quot;\u041F\u0435\u0440\u0432\u044B\u0439&quot; \u0440\u0430\u0437 \u043F\u043E\u0434\u0433\u0440\u0443\u0437\u0438\u043C \u0434\u0430\u043D\u043D\u044B\u0435</span>
  <span class="token keyword">async</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loadDataChunk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// \u041F\u043E\u0434\u0433\u0440\u0443\u0437\u043A\u0430 \u0434\u0430\u043D\u043D\u044B\u0445</span>
  <span class="token keyword">async</span> <span class="token function">loadDataChunk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u041F\u0440\u043E\u0432\u0435\u0440\u044F\u043C \u0435\u0441\u0442\u044C \u043B\u0438 \u0435\u0449\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 (\u0441\u043C.\u043A\u043B\u0430\u0441\u0441 Pagination)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>Pagination<span class="token punctuation">.</span><span class="token function">hasNextPage</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>pagination<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// &quot;\u0412\u043A\u043B\u044E\u0447\u0430\u0435\u043C&quot; \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0441\u043A\u0435\u043B\u0435\u0442\u043E\u043D\u0430 \u043D\u0430 \u0432\u0440\u0435\u043C\u044F \u0432\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F \u0437\u0430\u043F\u0440\u043E\u0441\u0430 \u043A \u0431\u0435\u043A\u0443</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>loading <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token comment">// \u0427\u0435\u0440\u0435\u0437 helper-\u043A\u043B\u0430\u0441\u0441 \u0443\u0432\u0435\u043B\u0438\u0447\u0438\u0432\u0430\u0435\u043C \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443 (\u0434\u043B\u044F \u043F\u0430\u0433\u0438\u043D\u0430\u0446\u0438\u0438 \u043D\u0430 \u0431\u0435\u043A\u0435)</span>
      Pagination<span class="token punctuation">.</span><span class="token function">nextPage</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>pagination<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// \u0412\u044B\u043F\u043E\u043B\u043D\u044F\u0435\u043C \u0437\u0430\u043F\u0440\u043E\u0441 \u043A \u0431\u0435\u043A\u0443 \u0437\u0430 &quot;\u043D\u043E\u0432\u043E\u0439&quot; \u043F\u043E\u0440\u0446\u0438\u0435\u0439 \u0434\u0430\u043D\u043D\u044B\u0445 (\u0447\u0435\u0440\u0435\u0437 \u043F\u0430\u0433\u0438\u043D\u0430\u0446\u0438\u044E)</span>
      <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$serviceLocator
        <span class="token punctuation">.</span><span class="token function">getService</span><span class="token punctuation">(</span>EmptyService<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">getArrayOrEmptyWithPagination</span><span class="token punctuation">(</span>
          NewsModel<span class="token punctuation">,</span>
          <span class="token string">&quot;users/news&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>pagination
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// \u041E\u0431\u043D\u043E\u0432\u0438\u043C \u043E\u0431\u0449\u0435\u0435 \u043A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432 (\u0432\u0430\u0436\u043D\u043E \u0435\u0441\u043B\u0438 \u043F\u0435\u0440\u0432\u044B\u0439 \u0440\u0430\u0437 \u0432\u044B\u043F\u043E\u043B\u043D\u0438\u0438\u043B \u0437\u0430\u043F\u0440\u043E\u0441 \u043A \u0431\u0435\u043A\u0443)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>pagination<span class="token punctuation">.</span>total <span class="token operator">=</span> result<span class="token punctuation">.</span>pagination<span class="token punctuation">.</span>total<span class="token punctuation">;</span>
      <span class="token comment">// \u0420\u0430\u0441\u0448\u0438\u0440\u0438\u043C \u0441\u043F\u0438\u0441\u043E\u043A \u041D\u043E\u0432\u043E\u0441\u0442\u0435\u0439 (\u0447\u0442\u043E \u0431\u044B\u043B\u043E + \u043D\u043E\u0432\u0430\u044F &quot;\u043F\u043E\u0440\u0446\u0438\u044F&quot; \u0434\u0430\u043D\u043D\u044B\u0445)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>newsList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>newsList<span class="token punctuation">,</span> <span class="token operator">...</span>result<span class="token punctuation">.</span>data<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token comment">// &quot;\u0412\u044B\u043A\u043B\u044E\u0447\u0430\u0435\u043C+&quot; \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0441\u043A\u0435\u043B\u0435\u0442\u043E\u043D\u0430</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>loading <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.news-list-wrapper</span> <span class="token punctuation">{</span>
  <span class="token atrule"><span class="token rule">@apply</span> gap-y-30 gap-x-30 grid grid-cols-1 <span class="token property">md</span><span class="token punctuation">:</span>grid-cols-2 <span class="token property">lg</span><span class="token punctuation">:</span>grid-cols-3<span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u043A\u043B\u0430\u0441\u0441-\u043C\u043E\u0434\u0435\u043B\u044C-\u0445\u0435\u043B\u043F\u0435\u0440-\u0434\u043B\u044F-\u043F\u0430\u0433\u0438\u043D\u0430\u0446\u0438\u0438" tabindex="-1"><a class="header-anchor" href="#\u043A\u043B\u0430\u0441\u0441-\u043C\u043E\u0434\u0435\u043B\u044C-\u0445\u0435\u043B\u043F\u0435\u0440-\u0434\u043B\u044F-\u043F\u0430\u0433\u0438\u043D\u0430\u0446\u0438\u0438" aria-hidden="true">#</a> \u041A\u043B\u0430\u0441\u0441-\u043C\u043E\u0434\u0435\u043B\u044C-\u0445\u0435\u043B\u043F\u0435\u0440 \u0434\u043B\u044F \u043F\u0430\u0433\u0438\u043D\u0430\u0446\u0438\u0438</h2><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Expose <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;class-transformer&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BaseViewModel <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./BaseViewModel&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Pagination</span> <span class="token keyword">extends</span> <span class="token class-name">BaseViewModel</span> <span class="token punctuation">{</span>
  total <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  from <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  to <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  selectedPages<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token decorator"><span class="token at operator">@</span><span class="token function">Expose</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;per_page&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  perPage <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>

  <span class="token decorator"><span class="token at operator">@</span><span class="token function">Expose</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;current_page&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  currentPage <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token decorator"><span class="token at operator">@</span><span class="token function">Expose</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;last_page&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  lastPage <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token comment">// \u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0435 \u043C\u0435\u0442\u043E\u0434\u044B-\u0445\u0435\u043B\u043F\u0435\u0440\u044B \u0434\u043B\u044F \u0440\u0430\u0431\u043E\u0442\u044B \u0432 \u0440\u0435\u0436\u0438\u043C\u0435 &quot;\u043F\u043E\u0434\u0433\u0440\u0443\u0437\u043A\u0438 \u0434\u0430\u043D\u043D\u044B\u0445&quot; (Show more, Infinite Scrolling)</span>

  <span class="token comment">// 1. \u0423\u0432\u0435\u043B\u0438\u0447\u0438\u0432\u0430\u0435\u043C (++) \u043D\u043E\u043C\u0435\u0440 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u044B</span>
  <span class="token comment">// 2. \u0412 \u043C\u0430\u0441\u0441\u0438\u0432 \u0441\u0442\u0440\u0430\u043D\u0438\u0446 &quot;\u043A\u043B\u0430\u0434\u0435\u043C&quot; \u043D\u043E\u043C\u0435\u0440 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u044B (++)</span>
  <span class="token keyword">static</span> <span class="token function">nextPage</span><span class="token punctuation">(</span>pagination<span class="token operator">:</span> Pagination<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>pagination<span class="token punctuation">.</span>selectedPages<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token operator">!</span>pagination<span class="token punctuation">.</span>currentPage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      pagination<span class="token punctuation">.</span>selectedPages<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>pagination<span class="token punctuation">.</span>currentPage<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    pagination<span class="token punctuation">.</span>currentPage<span class="token operator">++</span><span class="token punctuation">;</span>
    pagination<span class="token punctuation">.</span>selectedPages<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>pagination<span class="token punctuation">.</span>currentPage<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> pagination<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">static</span> <span class="token function">clearSelectedPages</span><span class="token punctuation">(</span>pagination<span class="token operator">:</span> Pagination<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    pagination<span class="token punctuation">.</span>selectedPages <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// \u041F\u043E\u0441\u043B\u0435\u0434\u043D\u044F\u044F \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u0430\u043D\u043D\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430</span>
  <span class="token keyword">static</span> <span class="token function">lastSelectedPage</span><span class="token punctuation">(</span>pagination<span class="token operator">:</span> Pagination<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> pagination<span class="token punctuation">.</span>selectedPages<span class="token punctuation">.</span>length
      <span class="token operator">?</span> pagination<span class="token punctuation">.</span>selectedPages<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
      <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// \u0415\u0441\u0442\u044C \u043B\u0438 \u0435\u0449\u0435 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u044B. \u041D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E, \u043D\u0430\u043F\u0440\u0438\u043C\u0435\u0440, \u0434\u043B\u044F \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0435\u043D\u0438\u044F -</span>
  <span class="token comment">// \u043D\u0443\u0436\u043D\u043E \u043B\u0438 \u0435\u0449\u0435 \u0434\u0435\u043B\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441 \u043D\u0430 API \u0447\u0442\u043E\u0431\u044B \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u044C \u043D\u043E\u0432\u0443\u044E \u043F\u043E\u0440\u0446\u0438\u044E \u0434\u0430\u043D\u043D\u044B\u0445)</span>
  <span class="token keyword">static</span> <span class="token function">hasNextPage</span><span class="token punctuation">(</span>pagination<span class="token operator">:</span> Pagination<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> lastSelectedPage <span class="token operator">=</span> Pagination<span class="token punctuation">.</span><span class="token function">lastSelectedPage</span><span class="token punctuation">(</span>pagination<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      lastSelectedPage <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">||</span>
      lastSelectedPage <span class="token operator">&lt;</span>
        <span class="token punctuation">(</span>pagination<span class="token punctuation">.</span>lastPage <span class="token operator">||</span> Pagination<span class="token punctuation">.</span><span class="token function">countPage</span><span class="token punctuation">(</span>pagination<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">static</span> <span class="token function">countPage</span><span class="token punctuation">(</span>pagination<span class="token operator">:</span> Pagination<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> pagination<span class="token punctuation">.</span>perPage <span class="token operator">&gt;</span> <span class="token number">0</span>
      <span class="token operator">?</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>pagination<span class="token punctuation">.</span>total <span class="token operator">/</span> pagination<span class="token punctuation">.</span>perPage<span class="token punctuation">)</span>
      <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,13);function h(P,_){const t=e("RouterLink"),o=e("ExternalLinkIcon");return l(),i("div",null,[r,n("nav",d,[n("ul",null,[n("li",null,[a(t,{to:"#infinitescroll-vue-nuxt2-class-components"},{default:p(()=>[v]),_:1})]),n("li",null,[a(t,{to:"#infinitescroll-vue-vue3-composition-api"},{default:p(()=>[m]),_:1})]),n("li",null,[a(t,{to:"#\u043F\u0440\u0438\u043C\u0435\u0440-\u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u0438\u044F"},{default:p(()=>[g]),_:1})]),n("li",null,[a(t,{to:"#\u043A\u043B\u0430\u0441\u0441-\u043C\u043E\u0434\u0435\u043B\u044C-\u0445\u0435\u043B\u043F\u0435\u0440-\u0434\u043B\u044F-\u043F\u0430\u0433\u0438\u043D\u0430\u0446\u0438\u0438"},{default:p(()=>[b]),_:1})])])]),n("p",null,[q,n("a",y,[f,a(o)])]),w])}var I=c(k,[["render",h],["__file","infinite-scrolling.html.vue"]]);export{I as default};
